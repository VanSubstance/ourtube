<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper
	namespace = "com.my.spring.mapper.BasicMapper">
	
	<select 
		id = "checkCtgr"
		parameterType="String"
		resultType = "String">
		select title from ctgr 
		where upper(title) like upper(#{ctgr})
	</select>
	
	<select 
	id="checkCtgrRelation"
	parameterType="String"
	resultType="com.my.spring.domain.CtgrDto">
		select * from ctgrRelation 
		where upper(parent) like upper(#{parent}) 
		and upper(title) like upper(#{title})
	</select>
	
	<select 
		id = "getCtgrBySearch"
		resultType = "com.my.spring.domain.CtgrDto"
		parameterType="String">
		select * from ctgrRelation 
		where upper(parent) = upper(#{parent}) ORDER BY title DESC
	</select>
	
</mapper>